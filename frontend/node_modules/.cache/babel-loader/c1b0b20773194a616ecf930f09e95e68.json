{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kesha\\\\Videos\\\\completed\\\\Expense-Tracking-Site\\\\frontend\\\\src\\\\Components\\\\PieChart.js\";\nimport React from 'react';\nimport PieChart, { Series, Label, Connector, Size, Export } from 'devextreme-react/pie-chart';\nconst areas = [{\n  country: 'Russia',\n  area: 12\n}, {\n  country: 'Canada',\n  area: 7\n}, {\n  country: 'USA',\n  area: 7\n}, {\n  country: 'China',\n  area: 7\n}, {\n  country: 'Brazil',\n  area: 6\n}, {\n  country: 'Australia',\n  area: 5\n}, {\n  country: 'India',\n  area: 2\n}, {\n  country: 'Others',\n  area: 55\n}];\n\nclass PieChar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.pointClickHandler = this.pointClickHandler.bind(this);\n    this.legendClickHandler = this.legendClickHandler.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/expenses', {\n      headers: {\n        \"Authorization\": localStorage.getItem(\"jwtToken\")\n      }\n    }).then(response => {\n      this.setState({\n        result: response.data\n      });\n      console.log(this.state.result);\n      let a = [];\n      const map1 = new Map();\n      this.state.result.map(expenses => {\n        console.log(expenses);\n\n        if (map1.has(expenses.category)) {\n          let f = map1.get(expenses.category) + expenses.cost;\n          map1.set(expenses.category, f);\n        } else {\n          map1.set(expenses.category, expenses.cost);\n        } // map1[expenses.category]+=expenses.cost;\n\n\n        console.log(map1);\n      });\n      map1.forEach((value, key) => {\n        a.push({\n          \"label\": key,\n          \"value\": value\n        });\n      });\n      console.log(a);\n      this.setState({\n        d: a\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(PieChart, {\n      id: \"pie\",\n      dataSource: areas,\n      palette: \"Bright\",\n      title: \"Area of Countries\",\n      onPointClick: this.pointClickHandler,\n      onLegendClick: this.legendClickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Series, {\n      argumentField: \"catergory\",\n      valueField: \"cost\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      visible: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Connector, {\n      visible: true,\n      width: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Size, {\n      width: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Export, {\n      enabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  pointClickHandler(e) {\n    this.toggleVisibility(e.target);\n  }\n\n  legendClickHandler(e) {\n    const arg = e.target;\n    const item = e.component.getAllSeries()[0].getPointsByArg(arg)[0];\n    this.toggleVisibility(item);\n  }\n\n  toggleVisibility(item) {\n    item.isVisible() ? item.hide() : item.show();\n  }\n\n}\n\nexport default PieChar;","map":{"version":3,"sources":["C:/Users/kesha/Videos/completed/Expense-Tracking-Site/frontend/src/Components/PieChart.js"],"names":["React","PieChart","Series","Label","Connector","Size","Export","areas","country","area","PieChar","Component","constructor","props","pointClickHandler","bind","legendClickHandler","componentDidMount","axios","get","headers","localStorage","getItem","then","response","setState","result","data","console","log","state","a","map1","Map","map","expenses","has","category","f","cost","set","forEach","value","key","push","d","render","e","toggleVisibility","target","arg","item","component","getAllSeries","getPointsByArg","isVisible","hide","show"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport PieChart, {\r\n  Series,\r\n  Label,\r\n  Connector,\r\n  Size,\r\n  Export,\r\n} from 'devextreme-react/pie-chart';\r\n\r\nconst areas = [{\r\n    country: 'Russia',\r\n    area: 12,\r\n  }, {\r\n    country: 'Canada',\r\n    area: 7,\r\n  }, {\r\n    country: 'USA',\r\n    area: 7,\r\n  }, {\r\n    country: 'China',\r\n    area: 7,\r\n  }, {\r\n    country: 'Brazil',\r\n    area: 6,\r\n  }, {\r\n    country: 'Australia',\r\n    area: 5,\r\n  }, {\r\n    country: 'India',\r\n    area: 2,\r\n  }, {\r\n    country: 'Others',\r\n    area: 55,\r\n  }];\r\nclass PieChar extends React.Component {\r\n    \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.pointClickHandler = this.pointClickHandler.bind(this);\r\n    this.legendClickHandler = this.legendClickHandler.bind(this);\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    axios.get('http://localhost:8080/expenses',{ headers: { \"Authorization\": localStorage.getItem(\"jwtToken\")}})\r\n\t\t.then((response) => {\r\n      this.setState({\r\n        result: response.data\r\n    });\r\n    console.log(this.state.result)\r\n  let a=[];\r\n    const map1 = new Map();\r\n    this.state.result.map(expenses =>{\r\n      console.log(expenses);\r\n      if(map1.has(expenses.category))\r\n      {\r\n        let f= map1.get(expenses.category)+expenses.cost;\r\n        map1.set(expenses.category,f)\r\n\r\n      }\r\n      else{\r\n      map1.set(expenses.category,expenses.cost)\r\n      }\r\n      // map1[expenses.category]+=expenses.cost;\r\n      console.log(map1)\r\n    \r\n    \r\n    })\r\n      map1.forEach((value, key)=>{\r\n         a.push({\"label\":key,\"value\":value})\r\n      })\r\n      console.log(a);\r\n\r\n      \r\n      \r\n\r\n     this.setState({\r\n      d:a,\r\n     });\r\n  })}\r\n\r\n  render() {\r\n    return (\r\n      <PieChart\r\n        id=\"pie\"\r\n        dataSource={areas}\r\n        palette=\"Bright\"\r\n        title=\"Area of Countries\"\r\n        onPointClick={this.pointClickHandler}\r\n        onLegendClick={this.legendClickHandler}\r\n      >\r\n        <Series\r\n          argumentField=\"catergory\"\r\n          valueField=\"cost\"\r\n        >\r\n          <Label visible={true}>\r\n            <Connector visible={true} width={1} />\r\n          </Label>\r\n        </Series>\r\n\r\n        <Size width={500} />\r\n        <Export enabled={true} />\r\n      </PieChart>\r\n    );\r\n  }\r\n\r\n  pointClickHandler(e) {\r\n    this.toggleVisibility(e.target);\r\n  }\r\n\r\n  legendClickHandler(e) {\r\n    const arg = e.target;\r\n    const item = e.component.getAllSeries()[0].getPointsByArg(arg)[0];\r\n\r\n    this.toggleVisibility(item);\r\n  }\r\n\r\n  toggleVisibility(item) {\r\n    item.isVisible() ? item.hide() : item.show();\r\n  }\r\n}\r\n\r\nexport default PieChar;\r\n"]},"metadata":{},"sourceType":"module"}