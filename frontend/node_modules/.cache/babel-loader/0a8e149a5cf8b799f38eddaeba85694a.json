{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kesha\\\\Videos\\\\completed\\\\Expense-Tracking-Site\\\\frontend\\\\src\\\\Components\\\\PieChart.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport PieChart, { Series, Label, Connector, Size, Export } from 'devextreme-react/pie-chart';\nimport NavBar from './NavBar';\nimport { Row, Col } from \"react-bootstrap\";\n\nclass PieChar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: [],\n      d: []\n    };\n    this.pointClickHandler = this.pointClickHandler.bind(this);\n    this.legendClickHandler = this.legendClickHandler.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/expenses', {\n      headers: {\n        \"Authorization\": localStorage.getItem(\"jwtToken\")\n      }\n    }).then(response => {\n      this.setState({\n        result: response.data\n      });\n      console.log(this.state.result);\n      let a = [];\n      const map1 = new Map();\n      this.state.result.map(expenses => {\n        console.log(expenses);\n\n        if (map1.has(expenses.category)) {\n          let f = map1.get(expenses.category) + expenses.cost;\n          map1.set(expenses.category, f);\n        } else {\n          map1.set(expenses.category, expenses.cost);\n        }\n\n        map1[expenses.category] += expenses.cost;\n        console.log(map1);\n      });\n      map1.forEach((value, key) => {\n        a.push({\n          \"catergory\": key,\n          \"cost\": value\n        });\n      });\n      console.log(a);\n      this.setState({\n        d: a\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(PieChart, {\n      id: \"pie\",\n      dataSource: this.state.d,\n      palette: \"Bright\",\n      title: \"Expenses based on Catergory\",\n      onPointClick: this.pointClickHandler,\n      onLegendClick: this.legendClickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Series, {\n      argumentField: \"catergory\",\n      valueField: \"cost\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      visible: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Connector, {\n      visible: true,\n      width: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Size, {\n      width: 500,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Export, {\n      enabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    })))));\n  }\n\n  pointClickHandler(e) {\n    this.toggleVisibility(e.target);\n  }\n\n  legendClickHandler(e) {\n    const arg = e.target;\n    const item = e.component.getAllSeries()[0].getPointsByArg(arg)[0];\n    this.toggleVisibility(item);\n  }\n\n  toggleVisibility(item) {\n    item.isVisible() ? item.hide() : item.show();\n  }\n\n}\n\nexport default PieChar;","map":{"version":3,"sources":["C:/Users/kesha/Videos/completed/Expense-Tracking-Site/frontend/src/Components/PieChart.js"],"names":["React","axios","PieChart","Series","Label","Connector","Size","Export","NavBar","Row","Col","PieChar","Component","constructor","props","state","result","d","pointClickHandler","bind","legendClickHandler","componentDidMount","get","headers","localStorage","getItem","then","response","setState","data","console","log","a","map1","Map","map","expenses","has","category","f","cost","set","forEach","value","key","push","render","e","toggleVisibility","target","arg","item","component","getAllSeries","getPointsByArg","isVisible","hide","show"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport PieChart, {\r\n  Series,\r\n  Label,\r\n  Connector,\r\n  Size,\r\n  Export,\r\n} from 'devextreme-react/pie-chart';\r\nimport NavBar from './NavBar';\r\nimport {\r\n    Row,\r\n    Col,\r\n  } from \"react-bootstrap\";\r\n\r\n\r\n\r\nclass PieChar extends React.Component {\r\n    \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        result: [],\r\n        d:[],\r\n      };\r\n\r\n    this.pointClickHandler = this.pointClickHandler.bind(this);\r\n    this.legendClickHandler = this.legendClickHandler.bind(this);\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    axios.get('http://localhost:8080/expenses',{ headers: { \"Authorization\": localStorage.getItem(\"jwtToken\")}})\r\n\t\t.then((response) => {\r\n      this.setState({\r\n        result: response.data\r\n    });\r\n    console.log(this.state.result)\r\n  let a=[];\r\n    const map1 = new Map();\r\n    this.state.result.map(expenses =>{\r\n      console.log(expenses);\r\n      if(map1.has(expenses.category))\r\n      {\r\n        let f= map1.get(expenses.category)+expenses.cost;\r\n        map1.set(expenses.category,f)\r\n\r\n      }\r\n      else{\r\n      map1.set(expenses.category,expenses.cost)\r\n      }\r\n       map1[expenses.category]+=expenses.cost;\r\n      console.log(map1)\r\n    \r\n    \r\n    })\r\n      map1.forEach((value, key)=>{\r\n         a.push({\"catergory\":key,\"cost\":value})\r\n      })\r\n      console.log(a);\r\n\r\n      \r\n      \r\n\r\n     this.setState({\r\n      d:a,\r\n     });\r\n  })}\r\n\r\n  render() {\r\n    return (\r\n        <div><NavBar/>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n        <Col xs={5}>\r\n        \r\n      <PieChart\r\n        id=\"pie\"\r\n        dataSource={this.state.d}\r\n        palette=\"Bright\"\r\n        title=\"Expenses based on Catergory\"\r\n        onPointClick={this.pointClickHandler}\r\n        onLegendClick={this.legendClickHandler}\r\n      >\r\n        <Series\r\n          argumentField=\"catergory\"\r\n          valueField=\"cost\"\r\n        >\r\n          <Label visible={true}>\r\n            <Connector visible={true} width={1} />\r\n          </Label>\r\n        </Series>\r\n\r\n        <Size width={500} />\r\n        <Export enabled={true} />\r\n      </PieChart></Col></Row>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  pointClickHandler(e) {\r\n    this.toggleVisibility(e.target);\r\n  }\r\n\r\n  legendClickHandler(e) {\r\n    const arg = e.target;\r\n    const item = e.component.getAllSeries()[0].getPointsByArg(arg)[0];\r\n\r\n    this.toggleVisibility(item);\r\n  }\r\n\r\n  toggleVisibility(item) {\r\n    item.isVisible() ? item.hide() : item.show();\r\n  }\r\n}\r\n\r\nexport default PieChar;\r\n"]},"metadata":{},"sourceType":"module"}