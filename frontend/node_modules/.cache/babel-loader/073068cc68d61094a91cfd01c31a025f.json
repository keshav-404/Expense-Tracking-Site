{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kesha\\\\Videos\\\\completed\\\\Expense-Tracking-Site\\\\frontend\\\\src\\\\Components\\\\Chart.js\";\nimport React, { Component } from 'react'; //make API calls to backend\n\nimport axios from 'axios';\nimport { AgChartsReact } from 'ag-charts-react';\nimport NavBar from './NavBar';\nimport PieChart, { Series, Label, Connector, Size, Export } from 'devextreme-react/pie-chart';\nexport default class Chart extends Component {\n  constructor(props) {\n    super(props);\n    this.dataPoints = [];\n    this.state = {\n      options: {\n        type: 'line',\n        autoSize: true,\n        title: {\n          text: 'Expenses Statistic'\n        },\n        legend: {\n          enabled: false\n        },\n        data: this.dataPoints,\n        series: [{\n          xKey: 'date',\n          yKey: 'spending'\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:8080/recent', {\n      headers: {\n        \"Authorization\": localStorage.getItem(\"jwtToken\")\n      }\n    }).then(response => {\n      var i;\n      var temp = 0;\n      /* calculation for the days with multiple expenses entered */\n\n      for (i = 0; i < response.data.length; i++) {\n        if (i !== response.data.length - 1 && !response.data[i + 1].date.localeCompare(response.data[i].date)) {\n          temp += response.data[i].cost;\n        } else {\n          temp += response.data[i].cost;\n          var day = response.data[i].date.substring(0, 10);\n          this.dataPoints.push({\n            date: String(day),\n            spending: Number(temp)\n          });\n          temp = 0;\n        }\n      }\n\n      this.setState({\n        options: { ...this.state.options,\n          data: this.dataPoints\n        }\n      });\n    }).catch(err => {\n      this.setState({\n        error: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-warning\",\n          style: {\n            marginTop: '5%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 12\n          }\n        }, \"Please Login...\")\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 36\n      }\n    }), /*#__PURE__*/React.createElement(AgChartsReact, {\n      options: this.state.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 42\n      }\n    }), /*#__PURE__*/React.createElement(PieChart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 88\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/kesha/Videos/completed/Expense-Tracking-Site/frontend/src/Components/Chart.js"],"names":["React","Component","axios","AgChartsReact","NavBar","PieChart","Series","Label","Connector","Size","Export","Chart","constructor","props","dataPoints","state","options","type","autoSize","title","text","legend","enabled","data","series","xKey","yKey","componentDidMount","get","headers","localStorage","getItem","then","response","i","temp","length","date","localeCompare","cost","day","substring","push","String","spending","Number","setState","catch","err","error","marginTop","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//make API calls to backend\nimport axios from 'axios';\n\nimport { AgChartsReact } from 'ag-charts-react';\nimport NavBar from './NavBar';\nimport PieChart, {\n\tSeries,\n\tLabel,\n\tConnector,\n\tSize,\n\tExport,\n  } from 'devextreme-react/pie-chart';\n\nexport default class Chart extends Component {\n\tdataPoints = [];\n\t\n\tconstructor(props) {\n        super(props);\n\n        this.state = {\n            options: {\n\t\t\t\ttype: 'line',\n\t\t\t\tautoSize: true,\n\t\t\t\ttitle: {\n\t\t\t\t    text: 'Expenses Statistic',\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\t    enabled: false\n\t\t\t\t},\n                data: this.dataPoints,\n                series: [{\n                    xKey: 'date',\n                    yKey: 'spending',\n                }],\n            },\n        };\n    }\n\t\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:8080/recent',{ headers: { \"Authorization\": localStorage.getItem(\"jwtToken\")}})\n\t\t.then((response) => {\n\t\t\tvar i;\n\t\t\tvar temp = 0;\n\t\t\t/* calculation for the days with multiple expenses entered */\n\t\t\tfor (i = 0; i < response.data.length; i++) {\n\t\t\t\tif (i !== (response.data.length - 1) && !response.data[i + 1].date.localeCompare(response.data[i].date)) {\n\t\t\t\t\ttemp += response.data[i].cost;\n\t\t\t\t} else {\n\t\t\t\t\ttemp += response.data[i].cost;\n\t\t\t\t\tvar day = response.data[i].date.substring(0, 10);\n\t\t\t\t\tthis.dataPoints.push({\n\t\t\t\t\t\tdate: String(day,),\n\t\t\t\t\t\tspending: Number(temp),\n\t\t\t\t\t});\n\t\t\t\t\ttemp = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\toptions: {\n\t\t\t\t\t\n\t\t\t    \t...this.state.options,\n\t\t\t    \tdata: this.dataPoints,\n\t\t\t\t},\n\t\t\t});\n\t\t}) \n\t\t.catch(err => {\n\t\t\tthis.setState({\n\t\t\t\terror: <div className=\"alert alert-warning\" style={{ marginTop: '5%' }}>Please Login...</div>\n\t\t\t})\n\t\t});\n\t\t\n\t\t\n\t}\n\t\n    render() {\n\n        return <div><NavBar/><br /><br /><AgChartsReact options={this.state.options} /><PieChart/></div>;\n    }\n}"]},"metadata":{},"sourceType":"module"}