{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport domAdapter from \"../../core/dom_adapter\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { name as clickEventName } from \"../../events/click\";\nimport { extend } from \"../../core/utils/extend\";\nimport { each as _each } from \"../../core/utils/iterator\";\nimport consts from \"../components/consts\";\nimport { getDistance, pointInCanvas as inCanvas, normalizeEnum as _normalizeEnum } from \"../core/utils\";\nimport pointerEvents from \"../../events/pointer\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport { isDefined } from \"../../core/utils/type\";\nimport { noop as _noop } from \"../../core/utils/common\";\nimport errors from \"../../core/errors\";\nvar _floor = Math.floor;\nvar eventsConsts = consts.events;\nvar statesConsts = consts.states;\nvar HOVER_STATE = statesConsts.hoverMark;\nvar NORMAL_STATE = statesConsts.normalMark;\nvar EVENT_NS = \"dxChartTracker\";\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\nvar LEGEND_CLICK = \"legendClick\";\nvar SERIES_CLICK = \"seriesClick\";\nvar POINT_CLICK = \"pointClick\";\nvar POINT_DATA = \"chart-data-point\";\nvar SERIES_DATA = \"chart-data-series\";\nvar ARG_DATA = \"chart-data-argument\";\nvar DELAY = 100;\nvar HOLD_TIMEOUT = 300;\nvar NONE_MODE = \"none\";\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\nvar INCLUDE_POINTS_MODE = \"includepoints\";\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\n\nfunction getData(event, dataKey, tryCheckParent) {\n  var target = event.target;\n\n  if (\"tspan\" === target.tagName) {\n    return target.parentNode[dataKey];\n  }\n\n  var data = target[dataKey];\n\n  if (tryCheckParent && !isDefined(data)) {\n    return function getParentData(node) {\n      if (node.parentNode) {\n        if (isDefined(node.parentNode[dataKey])) {\n          return node.parentNode[dataKey];\n        } else {\n          return getParentData(node.parentNode);\n        }\n      }\n\n      return;\n    }(target);\n  }\n\n  return data;\n}\n\nfunction eventCanceled(_ref, target, clickTarget) {\n  var {\n    event: event,\n    cancel: cancel\n  } = _ref;\n  var deprecatedCancel = event.cancel;\n  var eventCanceled = cancel || deprecatedCancel;\n\n  if (deprecatedCancel) {\n    errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\");\n  }\n\n  return eventCanceled || !target.getOptions();\n}\n\nfunction correctLegendHoverMode(mode) {\n  if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\n    return mode;\n  } else {\n    return INCLUDE_POINTS_MODE;\n  }\n}\n\nfunction correctHoverMode(target) {\n  var mode = target.getOptions().hoverMode;\n  return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE;\n}\n\nvar baseTrackerPrototype = {\n  ctor: function (options) {\n    var that = this;\n    var data = {\n      tracker: that\n    };\n    that._renderer = options.renderer;\n    that._legend = options.legend;\n    that._tooltip = options.tooltip;\n    that._eventTrigger = options.eventTrigger;\n    that._seriesGroup = options.seriesGroup;\n    options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\n\n    that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler);\n  },\n  update: function (options) {\n    this._chart = options.chart;\n  },\n\n  updateSeries(series, resetDecorations) {\n    var that = this;\n    var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\n\n    if (that._storedSeries !== series) {\n      that._storedSeries = series || [];\n    }\n\n    if (noHoveredSeries) {\n      that._clean();\n\n      that._renderer.initHatching();\n    }\n\n    if (resetDecorations) {\n      that.clearSelection();\n\n      if (!noHoveredSeries) {\n        that._hideTooltip(that.pointAtShownTooltip);\n\n        that.clearHover();\n      }\n    }\n  },\n\n  setCanvases: function (mainCanvas, paneCanvases) {\n    this._mainCanvas = mainCanvas;\n    this._canvases = paneCanvases;\n  },\n  repairTooltip: function () {\n    var point = this.pointAtShownTooltip;\n\n    if (!point || !point.series || !point.isVisible()) {\n      this._hideTooltip(point, true);\n    } else {\n      this._showTooltip(point);\n    }\n  },\n  _setHoveredPoint: function (point) {\n    if (point === this._hoveredPoint) {\n      return;\n    }\n\n    this._releaseHoveredPoint();\n\n    point.hover();\n    this._hoveredPoint = point;\n  },\n  _releaseHoveredPoint: function (isPointerOut) {\n    if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\n      this._hoveredPoint.clearHover();\n\n      this._hoveredPoint = null;\n\n      if (this._tooltip.isEnabled()) {\n        this._hideTooltip(this._hoveredPoint, false, isPointerOut);\n      }\n    }\n  },\n  _setHoveredSeries: function (series, mode) {\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n\n    series.hover(mode);\n    this.hoveredSeries = series;\n  },\n\n  _releaseHoveredSeries() {\n    if (this.hoveredSeries) {\n      this.hoveredSeries.clearHover();\n      this.hoveredSeries = null;\n    }\n  },\n\n  clearSelection() {\n    this._storedSeries.forEach(series => {\n      if (series) {\n        series.clearSelection();\n        series.getPoints().forEach(point => point.clearSelection());\n      }\n    });\n  },\n\n  _clean: function () {\n    this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\n\n    this._hideTooltip(this.pointAtShownTooltip);\n  },\n  clearHover: function (isPointerOut) {\n    this._resetHoveredArgument();\n\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint(isPointerOut);\n  },\n  _hideTooltip: function (point, silent, isPointerOut) {\n    if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\n      return;\n    }\n\n    if (!silent && this.pointAtShownTooltip) {\n      this.pointAtShownTooltip = null;\n    }\n\n    this._tooltip.hide(!!isPointerOut);\n  },\n  _showTooltip: function (point) {\n    var that = this;\n    var tooltipFormatObject;\n    var eventData = {\n      target: point\n    };\n\n    if (null !== point && void 0 !== point && point.getOptions()) {\n      tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\n\n      if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\n        return;\n      }\n\n      var coords = point.getTooltipParams(that._tooltip.getLocation());\n\n      var rootOffset = that._renderer.getRootOffset();\n\n      coords.x += rootOffset.left;\n      coords.y += rootOffset.top;\n\n      var callback = result => {\n        result && (that.pointAtShownTooltip = point);\n      };\n\n      callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback));\n    }\n  },\n  _showPointTooltip: function (event, point) {\n    var that = event.data.tracker;\n    var pointWithTooltip = that.pointAtShownTooltip;\n\n    if (pointWithTooltip && pointWithTooltip !== point) {\n      that._hideTooltip(pointWithTooltip);\n    }\n\n    that._showTooltip(point);\n  },\n  _hidePointTooltip: function (event, point) {\n    event.data.tracker._hideTooltip(point, false, true);\n  },\n  _enableOutHandler: function () {\n    if (this._outHandler) {\n      return;\n    }\n\n    var that = this;\n\n    var handler = function (e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = _floor(e.pageX - rootOffset.left);\n\n      var y = _floor(e.pageY - rootOffset.top);\n\n      if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\n        that._pointerOut();\n\n        that._disableOutHandler();\n      }\n    };\n\n    eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\n    this._outHandler = handler;\n  },\n  _isCursorOnTooltip: function (e) {\n    return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY);\n  },\n  _disableOutHandler: function () {\n    this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\n    this._outHandler = null;\n  },\n  stopCurrentHandling: function () {\n    this._pointerOut(true);\n  },\n  _pointerOut: function (force) {\n    this.clearHover(true);\n    (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true);\n  },\n  _triggerLegendClick: function (eventArgs, elementClick) {\n    var eventTrigger = this._eventTrigger;\n    eventTrigger(LEGEND_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs);\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n\n    var series;\n    var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\n\n    if (item) {\n      series = this._storedSeries[item.id];\n\n      if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\n        this._setHoveredSeries(series, legendHoverMode);\n      }\n\n      this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip);\n    } else {\n      this.clearHover();\n    }\n  },\n  _hoverArgument: function (argument, argumentIndex) {\n    var hoverMode = this._getArgumentHoverMode();\n\n    if (isDefined(argument)) {\n      this._releaseHoveredPoint();\n\n      this._hoveredArgument = argument;\n      this._argumentIndex = argumentIndex;\n\n      this._notifySeries({\n        action: \"pointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          argument: argument,\n          fullState: HOVER_STATE,\n          argumentIndex: argumentIndex,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n    }\n  },\n  _resetHoveredArgument: function () {\n    var hoverMode;\n\n    if (isDefined(this._hoveredArgument)) {\n      hoverMode = this._getArgumentHoverMode();\n\n      this._notifySeries({\n        action: \"clearPointHover\",\n        notifyLegend: this._notifyLegendOnHoverArgument,\n        target: {\n          fullState: NORMAL_STATE,\n          argumentIndex: this._argumentIndex,\n          argument: this._hoveredArgument,\n          getOptions: function () {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n\n      this._hoveredArgument = null;\n    }\n  },\n  _notifySeries: function (data) {\n    this._storedSeries.forEach(function (series) {\n      series.notify(data);\n    });\n  },\n  _pointerHandler: function (e) {\n    var _series;\n\n    var that = e.data.tracker;\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var canvas = that._getCanvas(x, y);\n\n    var series = getData(e, SERIES_DATA);\n    var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\n    that._isHolding = false;\n    clearTimeout(that._holdTimer);\n\n    if (e.type === pointerEvents.down) {\n      that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT);\n    }\n\n    if (point && !point.getMarkerVisibility()) {\n      point = void 0;\n    }\n\n    that._enableOutHandler();\n\n    if (that._legend.coordsIn(x, y)) {\n      that._hoverLegendItem(x, y);\n\n      return;\n    }\n\n    if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\n      that._releaseHoveredSeries();\n    }\n\n    if (that._hoverArgumentAxis(x, y, e)) {\n      return;\n    }\n\n    if (that._isPointerOut(canvas, point)) {\n      that._pointerOut();\n    }\n\n    if (!canvas && !point) {\n      return;\n    }\n\n    if (series && !point) {\n      point = series.getNeighborPoint(x, y);\n\n      if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\n        point = null;\n      }\n\n      if (series !== that.hoveredSeries) {\n        that._setTimeout(function () {\n          that._setHoveredSeries(series);\n\n          that._setStuckSeries(e, series, x, y);\n\n          that._pointerComplete(point, x, y);\n        }, series);\n\n        return;\n      }\n    } else if (point) {\n      if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\n        return;\n      }\n\n      if (that.hoveredSeries) {\n        that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point);\n      } else {\n        that._pointerOnPoint(point, x, y, e);\n      }\n\n      return;\n    } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\n      var _point;\n\n      series = that._stuckSeries;\n      point = series.getNeighborPoint(x, y);\n\n      that._releaseHoveredSeries();\n\n      (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point);\n    } else if (!that._stickyHovering) {\n      that._pointerOut();\n    }\n\n    that._pointerComplete(point, x, y);\n  },\n  _pointerOnPoint: function (point, x, y) {\n    this._resetHoveredArgument();\n\n    this._setHoveredPoint(point);\n\n    this._pointerComplete(point, x, y);\n  },\n  _pointerComplete: function (point) {\n    this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point);\n  },\n  _clickHandler: function (e) {\n    var _point2;\n\n    var that = e.data.tracker;\n\n    if (that._isHolding) {\n      return;\n    }\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var point = getData(e, POINT_DATA);\n    var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\n    var axis = that._argumentAxis;\n\n    if (that._legend.coordsIn(x, y)) {\n      var item = that._legend.getItemByCoord(x, y);\n\n      if (item) {\n        that._legendClick(item, e);\n      }\n    } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\n      var argument = getData(e, ARG_DATA, true);\n\n      if (isDefined(argument)) {\n        that._eventTrigger(\"argumentAxisClick\", {\n          argument: argument,\n          event: e\n        });\n      }\n    } else if (series) {\n      var _point3;\n\n      point = point || series.getPointByCoord(x, y);\n\n      if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\n        that._pointClick(point, e);\n      } else {\n        getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\n          target: series,\n          event: e\n        });\n      }\n    }\n  },\n  dispose: function () {\n    this._disableOutHandler();\n\n    this._renderer.root.off(DOT_EVENT_NS);\n\n    this._seriesGroup.off(DOT_EVENT_NS);\n  }\n};\nexport var ChartTracker = function (options) {\n  this.ctor(options);\n};\nextend(ChartTracker.prototype, baseTrackerPrototype, {\n  _pointClick: function (point, event) {\n    var eventTrigger = this._eventTrigger;\n    var series = point.series;\n    var eventArgs = {\n      target: point,\n      event: event\n    };\n    eventTrigger(POINT_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\n        target: series,\n        event: event\n      });\n    });\n  },\n  update: function (options) {\n    baseTrackerPrototype.update.call(this, options);\n    this._argumentAxis = options.argumentAxis || {};\n    this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\n    this._rotated = options.rotated;\n    this._crosshair = options.crosshair;\n    this._stickyHovering = options.stickyHovering;\n  },\n  _getCanvas: function (x, y) {\n    var canvases = this._canvases || [];\n\n    for (var i = 0; i < canvases.length; i++) {\n      var c = canvases[i];\n\n      if (inCanvas(c, x, y)) {\n        return c;\n      }\n    }\n\n    return null;\n  },\n  _isPointerOut: function (canvas) {\n    return !canvas && this._stuckSeries;\n  },\n  _hideCrosshair: function () {\n    var _this$_crosshair;\n\n    null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide();\n  },\n  _moveCrosshair: function (point, x, y) {\n    if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\n      this._crosshair.show({\n        point: point,\n        x: x,\n        y: y\n      });\n    }\n  },\n  _clean: function () {\n    baseTrackerPrototype._clean.call(this);\n\n    this._resetTimer();\n\n    this._stuckSeries = null;\n  },\n  _getSeriesForShared: function (x, y) {\n    var _point4;\n\n    var points = [];\n    var point = null;\n    var distance = 1 / 0;\n\n    if (this._tooltip.isShared() && !this.hoveredSeries) {\n      _each(this._storedSeries, function (_, series) {\n        var point = series.getNeighborPoint(x, y);\n        point && points.push(point);\n      });\n\n      _each(points, function (_, p) {\n        var coords = p.getCrosshairData(x, y);\n        var d = getDistance(x, y, coords.x, coords.y);\n\n        if (d < distance) {\n          point = p;\n          distance = d;\n        }\n      });\n    }\n\n    return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series;\n  },\n  _setTimeout: function (callback, keeper) {\n    var that = this;\n\n    if (that._timeoutKeeper !== keeper) {\n      that._resetTimer();\n\n      that._hoverTimeout = setTimeout(function () {\n        callback();\n        that._timeoutKeeper = null;\n      }, DELAY);\n      that._timeoutKeeper = keeper;\n    }\n  },\n  _resetTimer: function () {\n    clearTimeout(this._hoverTimeout);\n    this._timeoutKeeper = this._hoverTimeout = null;\n  },\n  _stopEvent: function (e) {\n    if (!isDefined(e.cancelable) || e.cancelable) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  _setStuckSeries: function (e, series, x, y) {\n    if (\"mouse\" !== e.pointerType) {\n      this._stuckSeries = null;\n    } else {\n      this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y);\n    }\n\n    return !!this._stuckSeries;\n  },\n  _pointerOut: function () {\n    var that = this;\n    that._stuckSeries = null;\n\n    that._hideCrosshair();\n\n    that._resetTimer();\n\n    baseTrackerPrototype._pointerOut.apply(that, arguments);\n  },\n  _hoverArgumentAxis: function (x, y, e) {\n    this._resetHoveredArgument();\n\n    if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\n      this._hoverArgument(getData(e, ARG_DATA, true));\n\n      return true;\n    }\n  },\n  _pointerComplete: function (point, x, y) {\n    this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\n\n    this._resetTimer();\n\n    this._moveCrosshair(point, x, y);\n\n    baseTrackerPrototype._pointerComplete.call(this, point);\n  },\n  _legendClick: function (item, e) {\n    var series = this._storedSeries[item.id];\n\n    this._triggerLegendClick({\n      target: series,\n      event: e\n    }, SERIES_CLICK);\n  },\n  _hoverLegendItem: function (x, y) {\n    this._stuckSeries = null;\n\n    this._hideCrosshair();\n\n    baseTrackerPrototype._hoverLegendItem.call(this, x, y);\n  },\n  _pointerOnPoint: function (point, x, y, e) {\n    this._setStuckSeries(e, point.series, x, y);\n\n    this._releaseHoveredSeries();\n\n    baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e);\n  },\n  _notifyLegendOnHoverArgument: false,\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._argumentAxis);\n  },\n  dispose: function () {\n    this._resetTimer();\n\n    baseTrackerPrototype.dispose.call(this);\n  }\n});\nexport var PieTracker = function (options) {\n  this.ctor(options);\n};\nextend(PieTracker.prototype, baseTrackerPrototype, {\n  _isPointerOut: function (_, point) {\n    return !point;\n  },\n  _legendClick: function (item, e) {\n    var points = [];\n\n    this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\n\n    this._eventTrigger(LEGEND_CLICK, {\n      target: item.argument,\n      points: points,\n      event: e\n    });\n  },\n  _pointClick: function (point, e) {\n    this._eventTrigger(POINT_CLICK, {\n      target: point,\n      event: e\n    });\n  },\n  _hoverLegendItem: function (x, y) {\n    var item = this._legend.getItemByCoord(x, y);\n\n    if (item && this._hoveredArgument !== item.argument) {\n      this._resetHoveredArgument();\n\n      this._hoverArgument(item.argument, item.argumentIndex);\n    } else if (!item) {\n      this.clearHover();\n    }\n  },\n  _getArgumentHoverMode: function () {\n    return correctHoverMode(this._legend);\n  },\n  _hoverArgumentAxis: _noop,\n  _setStuckSeries: _noop,\n  _getCanvas: _noop,\n  _notifyLegendOnHoverArgument: true\n});","map":{"version":3,"sources":["C:/Users/kesha/Videos/completed/Expense-Tracking-Site/frontend/node_modules/devextreme/esm/viz/chart_components/tracker.js"],"names":["domAdapter","eventsEngine","name","clickEventName","extend","each","_each","consts","getDistance","pointInCanvas","inCanvas","normalizeEnum","_normalizeEnum","pointerEvents","addNamespace","isDefined","noop","_noop","errors","_floor","Math","floor","eventsConsts","events","statesConsts","states","HOVER_STATE","hoverMark","NORMAL_STATE","normalMark","EVENT_NS","DOT_EVENT_NS","POINTER_ACTION","down","move","LEGEND_CLICK","SERIES_CLICK","POINT_CLICK","POINT_DATA","SERIES_DATA","ARG_DATA","DELAY","HOLD_TIMEOUT","NONE_MODE","ALL_ARGUMENT_POINTS_MODE","INCLUDE_POINTS_MODE","EXLUDE_POINTS_MODE","LEGEND_HOVER_MODES","getData","event","dataKey","tryCheckParent","target","tagName","parentNode","data","getParentData","node","eventCanceled","_ref","clickTarget","cancel","deprecatedCancel","log","concat","getOptions","correctLegendHoverMode","mode","indexOf","correctHoverMode","hoverMode","baseTrackerPrototype","ctor","options","that","tracker","_renderer","renderer","_legend","legend","_tooltip","tooltip","_eventTrigger","eventTrigger","_seriesGroup","seriesGroup","off","on","showPointTooltip","_showPointTooltip","hidePointTooltip","_hidePointTooltip","root","_pointerHandler","up","clearTimeout","_holdTimer","_clickHandler","update","_chart","chart","updateSeries","series","resetDecorations","noHoveredSeries","some","s","hoveredSeries","_hoveredPoint","_storedSeries","_clean","initHatching","clearSelection","_hideTooltip","pointAtShownTooltip","clearHover","setCanvases","mainCanvas","paneCanvases","_mainCanvas","_canvases","repairTooltip","point","isVisible","_showTooltip","_setHoveredPoint","_releaseHoveredPoint","hover","isPointerOut","isEnabled","_setHoveredSeries","_releaseHoveredSeries","forEach","getPoints","hoveredPoint","_hoveredArgumentPoints","_resetHoveredArgument","silent","hide","tooltipFormatObject","eventData","getTooltipFormatObject","isShared","getStackedPoints","valueText","points","coords","getTooltipParams","getLocation","rootOffset","getRootOffset","x","left","y","top","callback","result","show","pointWithTooltip","_enableOutHandler","_outHandler","handler","e","pageX","pageY","_isCursorOnTooltip","_pointerOut","_disableOutHandler","getDocument","isCursorOnTooltip","stopCurrentHandling","force","_triggerLegendClick","eventArgs","elementClick","_hoverLegendItem","item","getItemByCoord","legendHoverMode","id","isHovered","lastHoverMode","_hoverArgument","argument","argumentIndex","_getArgumentHoverMode","_hoveredArgument","_argumentIndex","_notifySeries","action","notifyLegend","_notifyLegendOnHoverArgument","fullState","notify","_series","canvas","_getCanvas","getPointByCoord","_isHolding","type","setTimeout","getMarkerVisibility","coordsIn","_stuckSeries","_hoverArgumentAxis","_isPointerOut","getNeighborPoint","_stickyHovering","_setTimeout","_setStuckSeries","_pointerComplete","pointerType","_pointerOnPoint","_point","_point2","axis","_argumentAxis","_legendClick","_point3","_pointClick","dispose","ChartTracker","prototype","call","argumentAxis","_axisHoverEnabled","_rotated","rotated","_crosshair","crosshair","stickyHovering","canvases","i","length","c","_hideCrosshair","_this$_crosshair","_moveCrosshair","_resetTimer","_getSeriesForShared","_point4","distance","_","push","p","getCrosshairData","d","keeper","_timeoutKeeper","_hoverTimeout","_stopEvent","cancelable","preventDefault","stopPropagation","apply","arguments","updateHover","PieTracker","getPointsByKeys"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/chart_components/tracker.js)\r\n * Version: 22.1.6\r\n * Build date: Tue Oct 18 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each as _each\r\n} from \"../../core/utils/iterator\";\r\nimport consts from \"../components/consts\";\r\nimport {\r\n    getDistance,\r\n    pointInCanvas as inCanvas,\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../core/utils\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop as _noop\r\n} from \"../../core/utils/common\";\r\nimport errors from \"../../core/errors\";\r\nvar _floor = Math.floor;\r\nvar eventsConsts = consts.events;\r\nvar statesConsts = consts.states;\r\nvar HOVER_STATE = statesConsts.hoverMark;\r\nvar NORMAL_STATE = statesConsts.normalMark;\r\nvar EVENT_NS = \"dxChartTracker\";\r\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\r\nvar POINTER_ACTION = addNamespace([pointerEvents.down, pointerEvents.move], EVENT_NS);\r\nvar LEGEND_CLICK = \"legendClick\";\r\nvar SERIES_CLICK = \"seriesClick\";\r\nvar POINT_CLICK = \"pointClick\";\r\nvar POINT_DATA = \"chart-data-point\";\r\nvar SERIES_DATA = \"chart-data-series\";\r\nvar ARG_DATA = \"chart-data-argument\";\r\nvar DELAY = 100;\r\nvar HOLD_TIMEOUT = 300;\r\nvar NONE_MODE = \"none\";\r\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\r\nvar INCLUDE_POINTS_MODE = \"includepoints\";\r\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\r\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\r\n\r\nfunction getData(event, dataKey, tryCheckParent) {\r\n    var target = event.target;\r\n    if (\"tspan\" === target.tagName) {\r\n        return target.parentNode[dataKey]\r\n    }\r\n    var data = target[dataKey];\r\n    if (tryCheckParent && !isDefined(data)) {\r\n        return function getParentData(node) {\r\n            if (node.parentNode) {\r\n                if (isDefined(node.parentNode[dataKey])) {\r\n                    return node.parentNode[dataKey]\r\n                } else {\r\n                    return getParentData(node.parentNode)\r\n                }\r\n            }\r\n            return\r\n        }(target)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction eventCanceled(_ref, target, clickTarget) {\r\n    var {\r\n        event: event,\r\n        cancel: cancel\r\n    } = _ref;\r\n    var deprecatedCancel = event.cancel;\r\n    var eventCanceled = cancel || deprecatedCancel;\r\n    if (deprecatedCancel) {\r\n        errors.log(\"W0003\", \"\".concat(clickTarget, \"Ckick handler argument\"), \"event.cancel\", \"22.1\", \"Use the 'cancel' field instead\")\r\n    }\r\n    return eventCanceled || !target.getOptions()\r\n}\r\n\r\nfunction correctLegendHoverMode(mode) {\r\n    if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\r\n        return mode\r\n    } else {\r\n        return INCLUDE_POINTS_MODE\r\n    }\r\n}\r\n\r\nfunction correctHoverMode(target) {\r\n    var mode = target.getOptions().hoverMode;\r\n    return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE\r\n}\r\nvar baseTrackerPrototype = {\r\n    ctor: function(options) {\r\n        var that = this;\r\n        var data = {\r\n            tracker: that\r\n        };\r\n        that._renderer = options.renderer;\r\n        that._legend = options.legend;\r\n        that._tooltip = options.tooltip;\r\n        that._eventTrigger = options.eventTrigger;\r\n        that._seriesGroup = options.seriesGroup;\r\n        options.seriesGroup.off(DOT_EVENT_NS).on(addNamespace(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on(addNamespace(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\r\n        that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on(addNamespace(pointerEvents.up, EVENT_NS), () => clearTimeout(that._holdTimer)).on(addNamespace(clickEventName, EVENT_NS), data, that._clickHandler)\r\n    },\r\n    update: function(options) {\r\n        this._chart = options.chart\r\n    },\r\n    updateSeries(series, resetDecorations) {\r\n        var that = this;\r\n        var noHoveredSeries = !(null !== series && void 0 !== series && series.some(s => s === that.hoveredSeries) || that._hoveredPoint && that._hoveredPoint.series);\r\n        if (that._storedSeries !== series) {\r\n            that._storedSeries = series || []\r\n        }\r\n        if (noHoveredSeries) {\r\n            that._clean();\r\n            that._renderer.initHatching()\r\n        }\r\n        if (resetDecorations) {\r\n            that.clearSelection();\r\n            if (!noHoveredSeries) {\r\n                that._hideTooltip(that.pointAtShownTooltip);\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    setCanvases: function(mainCanvas, paneCanvases) {\r\n        this._mainCanvas = mainCanvas;\r\n        this._canvases = paneCanvases\r\n    },\r\n    repairTooltip: function() {\r\n        var point = this.pointAtShownTooltip;\r\n        if (!point || !point.series || !point.isVisible()) {\r\n            this._hideTooltip(point, true)\r\n        } else {\r\n            this._showTooltip(point)\r\n        }\r\n    },\r\n    _setHoveredPoint: function(point) {\r\n        if (point === this._hoveredPoint) {\r\n            return\r\n        }\r\n        this._releaseHoveredPoint();\r\n        point.hover();\r\n        this._hoveredPoint = point\r\n    },\r\n    _releaseHoveredPoint: function(isPointerOut) {\r\n        if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\r\n            this._hoveredPoint.clearHover();\r\n            this._hoveredPoint = null;\r\n            if (this._tooltip.isEnabled()) {\r\n                this._hideTooltip(this._hoveredPoint, false, isPointerOut)\r\n            }\r\n        }\r\n    },\r\n    _setHoveredSeries: function(series, mode) {\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint();\r\n        series.hover(mode);\r\n        this.hoveredSeries = series\r\n    },\r\n    _releaseHoveredSeries() {\r\n        if (this.hoveredSeries) {\r\n            this.hoveredSeries.clearHover();\r\n            this.hoveredSeries = null\r\n        }\r\n    },\r\n    clearSelection() {\r\n        this._storedSeries.forEach(series => {\r\n            if (series) {\r\n                series.clearSelection();\r\n                series.getPoints().forEach(point => point.clearSelection())\r\n            }\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.hoveredPoint = this.hoveredSeries = this._hoveredArgumentPoints = null;\r\n        this._hideTooltip(this.pointAtShownTooltip)\r\n    },\r\n    clearHover: function(isPointerOut) {\r\n        this._resetHoveredArgument();\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint(isPointerOut)\r\n    },\r\n    _hideTooltip: function(point, silent, isPointerOut) {\r\n        if (!this._tooltip || point && this.pointAtShownTooltip !== point) {\r\n            return\r\n        }\r\n        if (!silent && this.pointAtShownTooltip) {\r\n            this.pointAtShownTooltip = null\r\n        }\r\n        this._tooltip.hide(!!isPointerOut)\r\n    },\r\n    _showTooltip: function(point) {\r\n        var that = this;\r\n        var tooltipFormatObject;\r\n        var eventData = {\r\n            target: point\r\n        };\r\n        if (null !== point && void 0 !== point && point.getOptions()) {\r\n            tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\r\n            if (!isDefined(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\r\n                return\r\n            }\r\n            var coords = point.getTooltipParams(that._tooltip.getLocation());\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            coords.x += rootOffset.left;\r\n            coords.y += rootOffset.top;\r\n            var callback = result => {\r\n                result && (that.pointAtShownTooltip = point)\r\n            };\r\n            callback(that._tooltip.show(tooltipFormatObject, coords, eventData, void 0, callback))\r\n        }\r\n    },\r\n    _showPointTooltip: function(event, point) {\r\n        var that = event.data.tracker;\r\n        var pointWithTooltip = that.pointAtShownTooltip;\r\n        if (pointWithTooltip && pointWithTooltip !== point) {\r\n            that._hideTooltip(pointWithTooltip)\r\n        }\r\n        that._showTooltip(point)\r\n    },\r\n    _hidePointTooltip: function(event, point) {\r\n        event.data.tracker._hideTooltip(point, false, true)\r\n    },\r\n    _enableOutHandler: function() {\r\n        if (this._outHandler) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var handler = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = _floor(e.pageX - rootOffset.left);\r\n            var y = _floor(e.pageY - rootOffset.top);\r\n            if (!inCanvas(that._mainCanvas, x, y) && !that._isCursorOnTooltip(e)) {\r\n                that._pointerOut();\r\n                that._disableOutHandler()\r\n            }\r\n        };\r\n        eventsEngine.on(domAdapter.getDocument(), POINTER_ACTION, handler);\r\n        this._outHandler = handler\r\n    },\r\n    _isCursorOnTooltip: function(e) {\r\n        return this._tooltip.isEnabled() && this._tooltip.isCursorOnTooltip(e.pageX, e.pageY)\r\n    },\r\n    _disableOutHandler: function() {\r\n        this._outHandler && eventsEngine.off(domAdapter.getDocument(), POINTER_ACTION, this._outHandler);\r\n        this._outHandler = null\r\n    },\r\n    stopCurrentHandling: function() {\r\n        this._pointerOut(true)\r\n    },\r\n    _pointerOut: function(force) {\r\n        this.clearHover(true);\r\n        (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip, false, true)\r\n    },\r\n    _triggerLegendClick: function(eventArgs, elementClick) {\r\n        var eventTrigger = this._eventTrigger;\r\n        eventTrigger(LEGEND_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, eventArgs.target, \"Legend\") && eventTrigger(elementClick, eventArgs)\r\n        }))\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        var series;\r\n        var legendHoverMode = correctLegendHoverMode(this._legend.getOptions().hoverMode);\r\n        if (item) {\r\n            series = this._storedSeries[item.id];\r\n            if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\r\n                this._setHoveredSeries(series, legendHoverMode)\r\n            }\r\n            this._tooltip.isEnabled() && this._hideTooltip(this.pointAtShownTooltip)\r\n        } else {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _hoverArgument: function(argument, argumentIndex) {\r\n        var hoverMode = this._getArgumentHoverMode();\r\n        if (isDefined(argument)) {\r\n            this._releaseHoveredPoint();\r\n            this._hoveredArgument = argument;\r\n            this._argumentIndex = argumentIndex;\r\n            this._notifySeries({\r\n                action: \"pointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    argument: argument,\r\n                    fullState: HOVER_STATE,\r\n                    argumentIndex: argumentIndex,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _resetHoveredArgument: function() {\r\n        var hoverMode;\r\n        if (isDefined(this._hoveredArgument)) {\r\n            hoverMode = this._getArgumentHoverMode();\r\n            this._notifySeries({\r\n                action: \"clearPointHover\",\r\n                notifyLegend: this._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    fullState: NORMAL_STATE,\r\n                    argumentIndex: this._argumentIndex,\r\n                    argument: this._hoveredArgument,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this._hoveredArgument = null\r\n        }\r\n    },\r\n    _notifySeries: function(data) {\r\n        this._storedSeries.forEach((function(series) {\r\n            series.notify(data)\r\n        }))\r\n    },\r\n    _pointerHandler: function(e) {\r\n        var _series;\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var canvas = that._getCanvas(x, y);\r\n        var series = getData(e, SERIES_DATA);\r\n        var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\r\n        that._isHolding = false;\r\n        clearTimeout(that._holdTimer);\r\n        if (e.type === pointerEvents.down) {\r\n            that._holdTimer = setTimeout(() => that._isHolding = true, HOLD_TIMEOUT)\r\n        }\r\n        if (point && !point.getMarkerVisibility()) {\r\n            point = void 0\r\n        }\r\n        that._enableOutHandler();\r\n        if (that._legend.coordsIn(x, y)) {\r\n            that._hoverLegendItem(x, y);\r\n            return\r\n        }\r\n        if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\r\n            that._releaseHoveredSeries()\r\n        }\r\n        if (that._hoverArgumentAxis(x, y, e)) {\r\n            return\r\n        }\r\n        if (that._isPointerOut(canvas, point)) {\r\n            that._pointerOut()\r\n        }\r\n        if (!canvas && !point) {\r\n            return\r\n        }\r\n        if (series && !point) {\r\n            point = series.getNeighborPoint(x, y);\r\n            if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\r\n                point = null\r\n            }\r\n            if (series !== that.hoveredSeries) {\r\n                that._setTimeout((function() {\r\n                    that._setHoveredSeries(series);\r\n                    that._setStuckSeries(e, series, x, y);\r\n                    that._pointerComplete(point, x, y)\r\n                }), series);\r\n                return\r\n            }\r\n        } else if (point) {\r\n            if (e.type !== pointerEvents.move && \"touch\" !== e.pointerType) {\r\n                return\r\n            }\r\n            if (that.hoveredSeries) {\r\n                that._setTimeout(() => that._pointerOnPoint(point, x, y, e), point)\r\n            } else {\r\n                that._pointerOnPoint(point, x, y, e)\r\n            }\r\n            return\r\n        } else if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\r\n            var _point;\r\n            series = that._stuckSeries;\r\n            point = series.getNeighborPoint(x, y);\r\n            that._releaseHoveredSeries();\r\n            (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point)\r\n        } else if (!that._stickyHovering) {\r\n            that._pointerOut()\r\n        }\r\n        that._pointerComplete(point, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y) {\r\n        this._resetHoveredArgument();\r\n        this._setHoveredPoint(point);\r\n        this._pointerComplete(point, x, y)\r\n    },\r\n    _pointerComplete: function(point) {\r\n        this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point)\r\n    },\r\n    _clickHandler: function(e) {\r\n        var _point2;\r\n        var that = e.data.tracker;\r\n        if (that._isHolding) {\r\n            return\r\n        }\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var point = getData(e, POINT_DATA);\r\n        var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\r\n        var axis = that._argumentAxis;\r\n        if (that._legend.coordsIn(x, y)) {\r\n            var item = that._legend.getItemByCoord(x, y);\r\n            if (item) {\r\n                that._legendClick(item, e)\r\n            }\r\n        } else if (null !== axis && void 0 !== axis && axis.coordsIn(x, y)) {\r\n            var argument = getData(e, ARG_DATA, true);\r\n            if (isDefined(argument)) {\r\n                that._eventTrigger(\"argumentAxisClick\", {\r\n                    argument: argument,\r\n                    event: e\r\n                })\r\n            }\r\n        } else if (series) {\r\n            var _point3;\r\n            point = point || series.getPointByCoord(x, y);\r\n            if (null !== (_point3 = point) && void 0 !== _point3 && _point3.getMarkerVisibility()) {\r\n                that._pointClick(point, e)\r\n            } else {\r\n                getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\r\n                    target: series,\r\n                    event: e\r\n                })\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._disableOutHandler();\r\n        this._renderer.root.off(DOT_EVENT_NS);\r\n        this._seriesGroup.off(DOT_EVENT_NS)\r\n    }\r\n};\r\nexport var ChartTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(ChartTracker.prototype, baseTrackerPrototype, {\r\n    _pointClick: function(point, event) {\r\n        var eventTrigger = this._eventTrigger;\r\n        var series = point.series;\r\n        var eventArgs = {\r\n            target: point,\r\n            event: event\r\n        };\r\n        eventTrigger(POINT_CLICK, eventArgs, (function() {\r\n            !eventCanceled(eventArgs, series, \"Point\") && eventTrigger(SERIES_CLICK, {\r\n                target: series,\r\n                event: event\r\n            })\r\n        }))\r\n    },\r\n    update: function(options) {\r\n        baseTrackerPrototype.update.call(this, options);\r\n        this._argumentAxis = options.argumentAxis || {};\r\n        this._axisHoverEnabled = this._argumentAxis && _normalizeEnum(this._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\r\n        this._rotated = options.rotated;\r\n        this._crosshair = options.crosshair;\r\n        this._stickyHovering = options.stickyHovering\r\n    },\r\n    _getCanvas: function(x, y) {\r\n        var canvases = this._canvases || [];\r\n        for (var i = 0; i < canvases.length; i++) {\r\n            var c = canvases[i];\r\n            if (inCanvas(c, x, y)) {\r\n                return c\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _isPointerOut: function(canvas) {\r\n        return !canvas && this._stuckSeries\r\n    },\r\n    _hideCrosshair: function() {\r\n        var _this$_crosshair;\r\n        null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide()\r\n    },\r\n    _moveCrosshair: function(point, x, y) {\r\n        if (this._crosshair && null !== point && void 0 !== point && point.isVisible()) {\r\n            this._crosshair.show({\r\n                point: point,\r\n                x: x,\r\n                y: y\r\n            })\r\n        }\r\n    },\r\n    _clean: function() {\r\n        baseTrackerPrototype._clean.call(this);\r\n        this._resetTimer();\r\n        this._stuckSeries = null\r\n    },\r\n    _getSeriesForShared: function(x, y) {\r\n        var _point4;\r\n        var points = [];\r\n        var point = null;\r\n        var distance = 1 / 0;\r\n        if (this._tooltip.isShared() && !this.hoveredSeries) {\r\n            _each(this._storedSeries, (function(_, series) {\r\n                var point = series.getNeighborPoint(x, y);\r\n                point && points.push(point)\r\n            }));\r\n            _each(points, (function(_, p) {\r\n                var coords = p.getCrosshairData(x, y);\r\n                var d = getDistance(x, y, coords.x, coords.y);\r\n                if (d < distance) {\r\n                    point = p;\r\n                    distance = d\r\n                }\r\n            }))\r\n        }\r\n        return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series\r\n    },\r\n    _setTimeout: function(callback, keeper) {\r\n        var that = this;\r\n        if (that._timeoutKeeper !== keeper) {\r\n            that._resetTimer();\r\n            that._hoverTimeout = setTimeout((function() {\r\n                callback();\r\n                that._timeoutKeeper = null\r\n            }), DELAY);\r\n            that._timeoutKeeper = keeper\r\n        }\r\n    },\r\n    _resetTimer: function() {\r\n        clearTimeout(this._hoverTimeout);\r\n        this._timeoutKeeper = this._hoverTimeout = null\r\n    },\r\n    _stopEvent: function(e) {\r\n        if (!isDefined(e.cancelable) || e.cancelable) {\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n    },\r\n    _setStuckSeries: function(e, series, x, y) {\r\n        if (\"mouse\" !== e.pointerType) {\r\n            this._stuckSeries = null\r\n        } else {\r\n            this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y)\r\n        }\r\n        return !!this._stuckSeries\r\n    },\r\n    _pointerOut: function() {\r\n        var that = this;\r\n        that._stuckSeries = null;\r\n        that._hideCrosshair();\r\n        that._resetTimer();\r\n        baseTrackerPrototype._pointerOut.apply(that, arguments)\r\n    },\r\n    _hoverArgumentAxis: function(x, y, e) {\r\n        this._resetHoveredArgument();\r\n        if (this._axisHoverEnabled && this._argumentAxis.coordsIn(x, y)) {\r\n            this._hoverArgument(getData(e, ARG_DATA, true));\r\n            return true\r\n        }\r\n    },\r\n    _pointerComplete: function(point, x, y) {\r\n        this.hoveredSeries && this.hoveredSeries.updateHover(x, y);\r\n        this._resetTimer();\r\n        this._moveCrosshair(point, x, y);\r\n        baseTrackerPrototype._pointerComplete.call(this, point)\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var series = this._storedSeries[item.id];\r\n        this._triggerLegendClick({\r\n            target: series,\r\n            event: e\r\n        }, SERIES_CLICK)\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        this._stuckSeries = null;\r\n        this._hideCrosshair();\r\n        baseTrackerPrototype._hoverLegendItem.call(this, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y, e) {\r\n        this._setStuckSeries(e, point.series, x, y);\r\n        this._releaseHoveredSeries();\r\n        baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e)\r\n    },\r\n    _notifyLegendOnHoverArgument: false,\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._argumentAxis)\r\n    },\r\n    dispose: function() {\r\n        this._resetTimer();\r\n        baseTrackerPrototype.dispose.call(this)\r\n    }\r\n});\r\nexport var PieTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nextend(PieTracker.prototype, baseTrackerPrototype, {\r\n    _isPointerOut: function(_, point) {\r\n        return !point\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var points = [];\r\n        this._storedSeries.forEach(s => points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex)));\r\n        this._eventTrigger(LEGEND_CLICK, {\r\n            target: item.argument,\r\n            points: points,\r\n            event: e\r\n        })\r\n    },\r\n    _pointClick: function(point, e) {\r\n        this._eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: e\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var item = this._legend.getItemByCoord(x, y);\r\n        if (item && this._hoveredArgument !== item.argument) {\r\n            this._resetHoveredArgument();\r\n            this._hoverArgument(item.argument, item.argumentIndex)\r\n        } else if (!item) {\r\n            this.clearHover()\r\n        }\r\n    },\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._legend)\r\n    },\r\n    _hoverArgumentAxis: _noop,\r\n    _setStuckSeries: _noop,\r\n    _getCanvas: _noop,\r\n    _notifyLegendOnHoverArgument: true\r\n});\r\n"]},"metadata":{},"sourceType":"module"}